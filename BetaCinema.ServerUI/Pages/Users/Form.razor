@using BetaCinema.Domain.Enums;
@inherits FormBase

<EditForm Model="@User" OnValidSubmit="@OnValidSubmit">
    <DataAnnotationsValidator />
    <MudGrid xs="12">
        <MudContainer MaxWidth="MaxWidth.Medium">
            <MudCard Class="p-4">
                <MudCardContent Class="p-0 mb-4 d-flex flex-column gap-2">
                    <MudTextField @bind-Value="@User.Email"
                                  Label="Email"
                                  Variant="Variant.Outlined"
                                  Margin="Margin.Dense">
                    </MudTextField>
                    <MudTextField @bind-Value="@User.Password"
                                  Label="Password"
                                  Variant="Variant.Outlined"
                                  Margin="Margin.Dense"
                                  ReadOnly="!AllowChangeRole">
                    </MudTextField>
                    <MudSelect @bind-Value="@User.Role"
                               T="string"
                               Label="Role"
                               AnchorOrigin="Origin.BottomCenter"
                               Variant="Variant.Outlined"
                               Margin="Margin.Dense"
                               ReadOnly="!AllowChangeRole">
                        <MudSelectItem Value="UserRole.Admin.ToString()" />
                        <MudSelectItem Value="UserRole.Customer.ToString()" />
                    </MudSelect>
                </MudCardContent>
                <MudCardActions Class="p-0">
                    <MudButton ButtonType="ButtonType.Submit"
                               Variant="Variant.Filled"
                               Color="Color.Primary"
                               Class="ml-auto">
                        @ButtonText
                    </MudButton>
                </MudCardActions>
            </MudCard>
        </MudContainer>
    </MudGrid>
</EditForm>